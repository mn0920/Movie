<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
 <mapper namespace="kr.min.movie.dao.AdminDao">

  <select id="getGenre" resultType="kr.min.movie.vo.GenreVo">
    select * from genre
  </select>
  <select id="getActor" resultType="kr.min.movie.vo.ActorVo">
    select * from actor
  </select>
  <select id="getDirector" resultType="kr.min.movie.vo.DirectorMovieVo">
    select * from director where director_name like CONCAT('%',#{name},'%')  
  </select>
  <select id="getDirectorList" resultType="kr.min.movie.vo.DirectorMovieVo">
    select * from m_director_list where #{DirectorMovieVo.director_id}
  </select>
  <select id="getDirectorOneMovie" resultType="kr.min.movie.vo.DirectorMovieVo">
    select title from movie where director_list where #{DirectorMovieVo.director_list}
  </select>
  <insert id="addMovie">
    insert into movie
      (title, m_genre_list, m_director_list, m_actor_list, open_date, rate, poster, running_time, grade, synopsis)
    value
      (#{movieVo.title}, #{movieVo.m_genre_list},#{movieVo.m_director_list},#{movieVo.m_actor_list},#{movieVo.open_date},
      #{movieVo.rate},#{movieVo.poster},#{movieVo.running_time},#{movieVo.grade},#{movieVo.synopsis});
  </insert>
  <insert id="addActor">
      insert into actor
        (actor_name, actor_img, actor_birth, actor_country, actor_gender, actor_story, a_trophy_list)
      value
        (#{actorVo.actor_name}, #{actorVo.actor_img}, #{actorVo.actor_birth},
         #{actorVo.actor_country}, #{actorVo.actor_gender}, #{actorVo.actor_story}, #{actorVo.a_trophy_list});
  </insert>
  <insert id="addDirector">
      insert into director
        (director_name, director_img, director_birth, director_gender, director_story, d_trophy_list)
      value
        (#{directorVo.director_name}, #{directorVo.director_img}, #{directorVo.director_birth},
         #{directorVo.director_gender}, #{directorVo.director_story}, #{directorVo.d_trophy_list});
  </insert>
  
</mapper>